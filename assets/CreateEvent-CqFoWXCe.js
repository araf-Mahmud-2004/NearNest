import{j as e}from"./ui-JykPZCXU.js";import{r as u}from"./vendor-o8UMtg5z.js";import{B as o,I as i}from"./input-CIthbtd8.js";import{C as b,b as C,c as E,a as w}from"./card-nPJQNN0C.js";import{T as S}from"./textarea-BzGSuOd9.js";import{S as k,a as A,b as D,c as I,d as T}from"./select-BAwiIVOJ.js";import{N as P,a as M}from"./Navbar-BlvArtp8.js";import{u as U,d as B,X as F}from"./index-DFAoHlto.js";import{a as L}from"./router-DZ6VJzti.js";import{A as z}from"./arrow-left-CVV2LaX8.js";import{C as R}from"./clock-CnYdEnhE.js";import{M as G}from"./map-pin-YEAOFdVc.js";import{U as V}from"./upload-C1Lik6jl.js";import"./index-BdQq_4o_.js";import"./supabase-BdK7WG9U.js";import"./utils-Bsf8JV-l.js";const re=()=>{const c=L(),{toast:p}=U(),{addEvent:g}=B(),[s,h]=u.useState({title:"",description:"",date:"",time:"",location:"",category:"",maxAttendees:""}),[m,d]=u.useState([]),f=["Community Service","Market","Education","Social","Workshop","Fitness"],r=(a,t)=>{h(l=>({...l,[a]:t}))},j=a=>{const t=a.target.files;t&&Array.from(t).forEach(l=>{const n=new FileReader;n.onload=x=>{x.target?.result&&d(N=>[...N,x.target.result])},n.readAsDataURL(l)})},v=a=>{d(t=>t.filter((l,n)=>n!==a))},y=async a=>{if(a.preventDefault(),!s.title||!s.description||!s.date||!s.time||!s.category){p({title:"Error",description:"Please fill in all required fields.",variant:"destructive"});return}try{await g({title:s.title,description:s.description,date:s.date,time:s.time,location:s.location||"Local Area",category:s.category,image:m[0]||null}),c("/dashboard")}catch(t){console.error("Error creating event:",t)}};return e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(P,{}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 animate-fade-in",children:[e.jsxs(o,{variant:"ghost",onClick:()=>c(-1),className:"mb-4 hover:bg-gray-100",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Back"]}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Event"}),e.jsx("p",{className:"text-gray-600",children:"Organize something amazing for your community"})]}),e.jsxs(b,{className:"border-0 shadow-md animate-fade-in",style:{animationDelay:"0.1s"},children:[e.jsx(C,{children:e.jsx(E,{children:"Event Details"})}),e.jsx(w,{children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Event Title *"}),e.jsx(i,{placeholder:"Enter event title",value:s.title,onChange:a=>r("title",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(M,{className:"h-4 w-4 mr-1"}),"Date *"]}),e.jsx(i,{type:"date",value:s.date,onChange:a=>r("date",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(R,{className:"h-4 w-4 mr-1"}),"Time *"]}),e.jsx(i,{type:"time",value:s.time,onChange:a=>r("time",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center",children:[e.jsx(G,{className:"h-4 w-4 mr-1"}),"Location"]}),e.jsx(i,{placeholder:"Enter event location",value:s.location,onChange:a=>r("location",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Category *"}),e.jsxs(k,{onValueChange:a=>r("category",a),children:[e.jsx(A,{className:"transition-all duration-200 focus:ring-2 focus:ring-primary",children:e.jsx(D,{placeholder:"Select category"})}),e.jsx(I,{children:f.map(a=>e.jsx(T,{value:a,children:a},a))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Max Attendees"}),e.jsx(i,{type:"number",placeholder:"50",value:s.maxAttendees,onChange:a=>r("maxAttendees",a.target.value),className:"transition-all duration-200 focus:ring-2 focus:ring-primary"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Description *"}),e.jsx(S,{placeholder:"Describe your event in detail...",value:s.description,onChange:a=>r("description",a.target.value),className:"min-h-32 transition-all duration-200 focus:ring-2 focus:ring-primary"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Event Photos"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-nearnest-green transition-colors duration-200",children:[e.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:j,className:"hidden",id:"image-upload"}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[e.jsx(V,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600",children:"Click to upload photos"}),e.jsx("p",{className:"text-sm text-gray-400",children:"PNG, JPG up to 10MB"})]})]}),m.length>0&&e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:m.map((a,t)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:a,alt:`Upload ${t+1}`,className:"w-full h-24 object-cover rounded-lg"}),e.jsx(o,{type:"button",variant:"destructive",size:"sm",className:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200 p-1 h-6 w-6",onClick:()=>v(t),children:e.jsx(F,{className:"h-3 w-3"})})]},t))})]}),e.jsxs("div",{className:"flex space-x-4 pt-6",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>c(-1),className:"flex-1",children:"Cancel"}),e.jsx(o,{type:"submit",className:"flex-1 bg-primary hover:bg-accent text-primary-foreground",children:"Create Event"})]})]})})]})]})]})};export{re as default};
